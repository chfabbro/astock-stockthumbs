{"version":3,"sources":["../src/sdk_stockthumbs.js"],"names":[],"mappings":"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","file":"sdk_stockthumbs.min.js","sourcesContent":["(() => {\n  let stockThumbsConfig = {};\n  let stockThumbsMain = null;\n  let jqLoaded;\n  // expose global object\n  window.StockThumbs = {\n    init: (config) => {\n      stockThumbsConfig = config;\n      // rules for app to use alternate options\n      stockThumbsConfig.custom = config.custom;\n      const loadScripts = jqLoaded(stockThumbsConfig);\n      window.addEventListener('jQueryLoaded', (e) => {\n        // prevents a double event\n        e.target.removeEventListener('jQueryLoaded', loadScripts, false);\n      }, false);\n      window.addEventListener('StockThumbsReady', () => {\n        console.log('StockThumbs ready');\n        const stm = stockThumbsMain();\n        const { StockThumbs } = window;\n        // merge custom config rules with global config\n        if (StockThumbs.config && StockThumbs.config.custom) {\n          stockThumbsConfig.custom = Object.assign(config.custom, StockThumbs.config.custom);\n          // initialize custom code with config and main object\n          if (StockThumbs.config.custom.init) {\n            StockThumbs.config.custom.init(stockThumbsConfig, stm);\n          }\n        }\n        // expose to global object\n        StockThumbs.getFilters = stm.getFilters;\n        StockThumbs.setFilters = stm.setFilters;\n        StockThumbs.config = stockThumbsConfig;\n        // now call main init method returned below\n        stm.init();\n      }, false);\n    },\n  };\n  stockThumbsMain = () => {\n    const { AdobeStock } = window;\n    const stc = stockThumbsConfig;\n    // utility functions for getting tracking urls and paths\n    const utils = {\n      includePath: window.StockThumbs.PATH,\n      // clk.tradedoubler.com/click?p(ProgramID)&a(AdvertiserID)&g(AdID)url(TARGET_URL)\n      getTrackingUrl: (url, cfg) => `//clk.tradedoubler.com/click?p(${cfg.programID})a(${cfg.advertiserID})g(${cfg.adID})url(${encodeURIComponent(url)})`,\n      getHost: () => {\n        let host = document.location.hostname;\n        // check if a custom hostname is set\n        if (stc.custom && stc.custom.hostname) {\n          host = stc.custom.hostname;\n        } else {\n          // if <base href> is set, return that instead of doc location\n          const base = document.querySelector('base') && document.querySelector('base').href;\n          // create temporary link and extract hostname\n          const tmpLink = document.createElement('a');\n          tmpLink.href = base;\n          host = tmpLink.hostname;\n        }\n        return host;\n      },\n      get stockHomeUrl() {\n        return this.getTrackingUrl(`https://stock.adobe.com?as_campaign=${encodeURIComponent(this.getHost())}`, stc);\n      },\n    };\n    // returns cta link per ctaLink config variable\n    const getCtaText = () => {\n      const fmfUrl = utils.getTrackingUrl(`https://stock.adobe.com/promo/firstmonthfree?as_campaign=${utils.getHost()}`, stc);\n      const videoUrl = utils.getTrackingUrl(`https://stock.adobe.com/video?as_campaign=${utils.getHost()}`, stc);\n      const cta = {\n        fmf: `<p>First month free with <a href=\"${fmfUrl}\" class=\"astock-searchbar-link\" target=\"_blank\">Adobe Stock annual plans</a>.</p>`,\n        video: `<p>Save money on Adobe Stock videos <a href=\"${videoUrl}\" class=\"astock-searchbar-link\" target=\"_blank\">with a credit pack</a>.</p>`,\n      };\n      if (stc.ctaLink === 'video') return cta.video;\n      return cta.fmf;\n    };\n    const sbHeader = `<div class=\"astock-searchbar-header\"><a href=\"${utils.stockHomeUrl}\" target=\"_blank\"><img src=\"${utils.includePath}/adobe_stock_logo-400.png\"></a>${getCtaText()}</div>`;\n\n    function parseFilters(filters) {\n      const searchFilters = {};\n      const { $jq } = window.StockThumbs;\n      if (!filters) return searchFilters;\n      // iterate over object using method that won't bother eslint!\n      const filterMap = Object.entries(filters);\n      const stkParams = AdobeStock.SEARCH_PARAMS;\n      // lookup Stock keyname and map to search filter name\n      filterMap.forEach(([key, currentValue]) => {\n        let value = currentValue;\n        if (Object.prototype.hasOwnProperty.call(stkParams, key)) {\n          if (key === 'SIMILAR_URL') {\n            if (value !== '' && value !== undefined) {\n              const firstImg = $jq(`${value} img`)[0] || $jq(`${value}`)[0];\n              const getSrcSet = srcset => ((srcset) ? srcset.split(', ')[0].split(' ')[0] : undefined);\n              const url = $jq(firstImg).attr('src') || getSrcSet($jq(firstImg).attr('srcset'));\n              if (url !== '' && url !== undefined) {\n                searchFilters[stkParams[key]] = url;\n              }\n            }\n          } else if (key === 'WORDS') {\n            // value should be array ['DOM element', keyword count]\n            if (value && value[0]) {\n              const $el = $jq(value[0]);\n              const isInput = $el.is('input');\n              const phrase = (isInput) ? $el.val() : $el.text();\n              // if element has text get keywords\n              if (phrase) {\n                const keywords = window.StockThumbs.keywordx.extract(phrase, {\n                  language: 'english',\n                  remove_digits: true,\n                  return_changed_case: true,\n                  remove_duplicates: true,\n                });\n                // if count is not supplied default to 1\n                const keywordCount = (value[1]) ? value[1] : 1;\n                const searchWords = (keywords.length > 0) ? keywords.slice(0, keywordCount).join(' ') : '';\n                console.log('keywords: %o\\nsearching on %s', keywords, searchWords);\n                searchFilters[stkParams[key]] = searchWords;\n              }\n            }\n          } else if (value !== '' && value !== undefined) {\n            // validate size\n            if (key === 'THUMBNAIL_SIZE') {\n              const sizes = [110, 160, 220, 240, 500, 1000];\n              const targetSize = value;\n              // check if size is in array of allowed sizes\n              if (sizes.indexOf(targetSize) < 0) {\n                value = sizes.reduce((a, b) => {\n                  const newSize = (Math.abs(a - targetSize) < Math.abs(b - targetSize) ? a : b);\n                  return newSize;\n                });\n                console.warn('Thumbnail size of %s is not valid. Closest size is %s', targetSize, value);\n              }\n            }\n            searchFilters[stkParams[key]] = value;\n          }\n        }\n      });\n      return searchFilters;\n    }\n\n    // returns container div from selector and adds main class\n    function $getContDiv(el) {\n      const mainClass = 'astock-searchbar';\n      const dataId = 'searchbar';\n      // get reference to jQuery\n      const { $jq } = window.StockThumbs;\n      // get reference to target div and data node (might be same)\n      let $tempDiv = $jq(el);\n      const $dataDiv = $tempDiv.find(`[data-id=${dataId}]`);\n      // if data node exists, return it\n      if ($dataDiv.length > 0) {\n        $tempDiv = $dataDiv;\n      // does target node exist\n      } else if ($tempDiv.length > 0) {\n        // does target node contain main class\n        if (!$tempDiv.hasClass(mainClass)) {\n          // create new div to be container\n          const $mainDiv = $jq(document.createElement('div'));\n          // add main class\n          $mainDiv.addClass(mainClass);\n          // add new container under target and return that\n          $tempDiv = $mainDiv;\n          $jq(el).append($tempDiv);\n        }\n        // add data node\n        $tempDiv.attr('data-id', dataId);\n      // neither exists, throw exception\n      } else {\n        throw (new Error('Stock SearchBar error: Container does not exist. Set \"parentId\" to a valid selector.'));\n      }\n      return $tempDiv;\n    }\n\n    // creates thumbs and inserts -- input is json array\n    function updateUiThumbs(files) {\n      const wrapClass = 'astock-searchbar-wrap';\n      const bodyClass = 'astock-searchbar-body';\n      let itemClass = 'astock-searchbar-item';\n      const tipClass = 'astock-searchbar-tip';\n      const iconClass = 'astock-searchbar-item-icon';\n      // get reference to result columns object\n      const columns = AdobeStock.RESULT_COLUMNS;\n      // get reference to jQuery\n      const { $jq } = window.StockThumbs;\n      const $sb = $getContDiv(stc.parentId);\n      // wrap thumbnails in container to allow scrolling\n      const $wrapDiv = $jq(document.createElement('div'));\n      $wrapDiv.addClass(wrapClass);\n      const $thumbsDiv = $jq(document.createElement('div'));\n      $thumbsDiv.addClass(bodyClass);\n      // if body width is less than 150px, apply small item size\n      if ($sb.width() <= 150) {\n        itemClass = `${itemClass} item-small`;\n      }\n      // svg video icon\n      const videoSvg = '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 19 12\" style=\"enable-background:new 0 0 19 12; width:19px; height:10px; fill:white;\" xml:space=\"preserve\"><g><path d=\"M17.8,0.8L13,3V0.8C13,0.4,12.6,0,12.2,0H0.8C0.4,0,0,0.4,0,0.8v10.4C0,11.6,0.4,12,0.8,12h11.4c0.4,0,0.8-0.4,0.8-0.8V 9l4.8,2.2c0.5,0.4,1.2,0,1.2-0.7v-9C19,0.9,18.3,0.5,17.8,0.8z\"></path></g></svg>';\n      // populate with images using html returned in json\n      files.forEach((asset) => {\n        // get url to details page on Stock and wrap inside affiliate tracking url\n        const url = utils.getTrackingUrl(asset[columns.DETAILS_URL], stc);\n        // create div wrapper\n        const div = document.createElement('div');\n        div.className = itemClass;\n        // create anchor with link to details\n        const link = document.createElement('a');\n        link.href = url;\n        link.target = '_blank';\n        let thumb;\n        // construct a different thumb element depending on asset type\n        if (stc.videoSupport && asset[columns.MEDIA_TYPE_ID] === 4) {\n          // create video and source tag\n          const video = document.createElement('video');\n          const source = document.createElement('source');\n          Object.assign(video, {\n            preload: 'none',\n            poster: asset[columns.THUMBNAIL_URL],\n            loop: 'loop',\n          });\n          // for some reason, cannot assign these properties\n          video.setAttribute('muted', 'muted');\n          video.setAttribute('onmouseover', 'this.play()');\n          video.setAttribute('onmouseout', 'this.pause()');\n          Object.assign(source, {\n            src: asset[columns.VIDEO_SMALL_PREVIEW_URL],\n            type: asset[columns.VIDEO_SMALL_PREVIEW_CONTENT_TYPE],\n          });\n          // add video source and set thumb as video\n          video.appendChild(source);\n          // add play icon\n          const iconDiv = document.createElement('div');\n          iconDiv.className = iconClass;\n          const svg = document.createRange().createContextualFragment(videoSvg);\n          iconDiv.appendChild(svg);\n          div.appendChild(iconDiv);\n          link.appendChild(video);\n          // get html tag\n          const tag = asset[columns.THUMBNAIL_HTML_TAG];\n          // convert html string into dom element\n          thumb = document.createRange().createContextualFragment(tag);\n        } else {\n          // get html tag\n          const tag = asset[columns.THUMBNAIL_HTML_TAG];\n          // convert html string into dom element\n          thumb = document.createRange().createContextualFragment(tag);\n        }\n        // if captions are enabled\n        if (stc.tooltips) {\n          // create tool tip from image title\n          const tip = document.createElement('div');\n          tip.className = tipClass;\n          // get title text from document-fragment\n          const tipText = thumb.querySelector('img').title;\n          if (tipText !== '' && tipText !== undefined) {\n            tip.textContent = tipText;\n            thumb.querySelector('img').removeAttribute('title');\n            link.appendChild(tip);\n            // create hover behavior for tip\n            const $tip = $jq(tip);\n            const $link = $jq(link);\n            const showTip = (el) => {\n              el.stopPropagation();\n              el.preventDefault();\n              const $img = $jq(el.currentTarget);\n              const $off1 = $img.offset();\n              const $off2 = $sb.offset();\n              const newPos = {\n                top: ($off1.top - $off2.top) + $img.height(),\n                left: ($off1.left - $off2.left) + $img.width(),\n              };\n              $tip.css({\n                top: newPos.top,\n                left: newPos.left,\n              });\n              // console.log('final pos', newPos);\n              $tip.show();\n              // change parent to main div\n              $sb.append($tip);\n            };\n            const hideTip = (el) => {\n              $tip.css($jq(el.currentTarget).offset());\n              $tip.hide();\n              // reset parent to link\n              $link.append($tip);\n            };\n            // $jq(thumb.querySelector('img')).hover(showTip);\n            $jq(link).hover(showTip, hideTip);\n          }\n        }\n        // wrap link around image/video and add to document\n        link.appendChild(thumb);\n        div.insertBefore(link, div.lastChild);\n        $thumbsDiv.append(div);\n      });\n      $wrapDiv.append($thumbsDiv);\n      $sb.append($wrapDiv);\n      // init Masonry\n      $thumbsDiv.masonry({\n        itemSelector: `.${itemClass}`,\n      });\n      // listen for images loaded event\n      $thumbsDiv.imagesLoaded()\n        .progress(() => {\n          $thumbsDiv.masonry('layout');\n        })\n        .done(() => {\n          console.log('all images successfully loaded');\n          // show search bar\n          $sb.addClass('astock-searchbar-fadein');\n          // make sure it is visible in case class is missing\n          window.setTimeout(() => {\n            $sb.css({\n              visibility: 'visible',\n              opacity: 1,\n            });\n            // call Masonry layout one final time for Firefox!\n            $thumbsDiv.masonry('layout');\n          }, 1000);\n        });\n    }\n\n    // runs search using sdk and returns results\n    async function doSearch(params) {\n      // default filters\n      const defaultParams = {\n        offset: 0,\n        limit: 16,\n      };\n      // merge default filters with params from config\n      const searchParams = Object.assign(defaultParams, params);\n      console.log('Search query: %o', searchParams);\n      const queryParams = {\n        // if locale is set in config, use that instead of default\n        locale: ((stc.locale) ? stc.locale : 'en-US'),\n        search_parameters: searchParams,\n      };\n      // result fields to get back\n      // if result_columns exists in config, use that instead\n      let resultColumns = [];\n      const hasCustomColumns = Boolean(stc.custom && stc.custom.result_columns);\n      if (!hasCustomColumns) {\n        const imageColumns = [\n          AdobeStock.RESULT_COLUMNS.THUMBNAIL_HTML_TAG,\n          AdobeStock.RESULT_COLUMNS.DETAILS_URL,\n          AdobeStock.RESULT_COLUMNS.NB_RESULTS,\n        ];\n        const videoColumns = [\n          AdobeStock.RESULT_COLUMNS.TITLE,\n          AdobeStock.RESULT_COLUMNS.THUMBNAIL_URL,\n          AdobeStock.RESULT_COLUMNS.MEDIA_TYPE_ID,\n          AdobeStock.RESULT_COLUMNS.VIDEO_SMALL_PREVIEW_URL,\n          AdobeStock.RESULT_COLUMNS.VIDEO_SMALL_PREVIEW_CONTENT_TYPE,\n        ];\n        // if video support is enabled, include extra result columns\n        resultColumns = (stc.videoSupport) ? imageColumns.concat(videoColumns) : imageColumns;\n      } else {\n        const tempFields = stc.custom.result_columns;\n        // fully qualify result column names\n        const stkResults = AdobeStock.RESULT_COLUMNS;\n        tempFields.forEach((field) => {\n          resultColumns.push(stkResults[field]);\n        });\n        resultColumns.push(AdobeStock.RESULT_COLUMNS.NB_RESULTS);\n        console.log(resultColumns);\n      }\n      // create sdk instance\n      const stock = new AdobeStock(stc.apiKey, stc.appName, AdobeStock.ENVIRONMENT.PROD);\n      // execute search and load results\n      const iterator = stock.searchFiles(null, queryParams, resultColumns);\n      // iterate over returned Promise\n      return iterator.next().then(() => {\n        let files;\n        const response = iterator.getResponse();\n        if (response.nb_results > 0) {\n          ({ files } = response);\n        } else {\n          console.log('no results from Stock');\n        }\n        return files;\n      });\n    }\n    // expose methods and objects outside Main object\n    return {\n      init: async () => {\n        const { $jq } = window.StockThumbs;\n        // extract search options and run search\n        const result = await doSearch(parseFilters(stc.filters));\n        // runs callback after search results are returned (optional)\n        if (stc.callback && (typeof stc.callback === 'function')) {\n          stc.callback.apply(this, result);\n        }\n        // if custom code is present, return search results and run code instead of default behavior\n        if (stc.custom && stc.custom.exec) {\n          // call custom code main entry point\n          stc.custom.exec.call(this, result);\n        } else {\n          // create search results\n          const $stockThumbs = $getContDiv(stc.parentId);\n          // create stock header\n          const $header = $jq(sbHeader);\n          $stockThumbs.append($header);\n          updateUiThumbs.apply(this, result);\n        }\n      },\n      // expose search filters for troubleshooting\n      getFilters: () => { console.log(stc.filters); },\n      setFilters: (filters) => { console.log(filters); },\n      // export utils for external functions\n      utils,\n    };\n  };\n  // Get current path of script by triggering a stack trace\n  /*! @source https://gist.github.com/eligrey/5426730 */\n  window.StockThumbs.PATH = (() => {\n    const filename = 'fileName';\n    const stack = 'stack';\n    const stacktrace = 'stacktrace';\n    const sourceUrl = 'sourceURL';\n    const current = 'currentScript';\n    let loc = null;\n    const matcher = (name, matchedLoc) => {\n      loc = matchedLoc;\n    };\n\n    // for modern browsers\n    if (document[current] && document[current].src !== '') {\n      loc = document[current].src;\n      return loc.slice(0, loc.lastIndexOf('/') + 1);\n    }\n\n    try {\n      0(); // throws error\n      return false;\n    } catch (ex) {\n      if (filename in ex) { // Firefox\n        loc = ex[filename];\n      } else if (sourceUrl in ex) { // New Safari\n        loc = ex[sourceUrl];\n      } else if (stacktrace in ex) { // Opera\n        ex[stacktrace].replace(/called from line \\d+, column \\d+ in (.*):/gm, matcher);\n      } else if (stack in ex) { // WebKit, Blink, and IE10\n        ex[stack].replace(/at.*?\\(?(\\S+):\\d+:\\d+\\)?$/g, matcher);\n      }\n      return loc.slice(0, loc.lastIndexOf('/') + 1);\n    }\n  })();\n\n  // custom event dispatcher\n  const notify = (eventName) => {\n    const event = new Event(eventName);\n    // Dispatch the event.\n    window.dispatchEvent(event);\n  };\n\n  // notifies main script when everything is loaded\n  jqLoaded = (stc) => {\n    // get current path of script\n    const includePath = window.StockThumbs.PATH;\n    jQuery(document).ready((jQuery) => {\n      const SS = window.StockThumbs;\n      SS.$jq = jQuery.noConflict();\n      const { $jq } = SS;\n      const reqs = {\n        keywordx: 'keywordx.min.js',\n        imagesloaded: 'imagesloaded.pkgd.min.js',\n        adobestocklib: 'adobestocklib.min.js',\n        masonry: 'masonry.pkgd.min.js',\n      };\n      // remove/add custom libraries\n      if (stc.custom && (stc.custom.include || stc.custom.exclude)) {\n        const { exclude } = stc.custom;\n        const { include } = stc.custom;\n        if (exclude) {\n          exclude.forEach((name) => {\n            // eslint-disable-next-line no-prototype-builtins\n            if (reqs.hasOwnProperty(name)) {\n              delete reqs[name];\n            }\n          });\n        }\n        if (include) {\n          include.forEach((name) => {\n            reqs[name] = `${name}.js`;\n          });\n        }\n        console.log('new includes', reqs);\n      }\n      // load other libraries using a promise\n      // https://stackoverflow.com/a/11803418/9421005\n      $jq.getMultiScripts = (reqsObj, path) => {\n        const reqArr = $jq.map(reqsObj, script => $jq.getScript(`${path}${script}`));\n        reqArr.push($jq.Deferred((deferred) => {\n          $jq(deferred.resolve);\n        }));\n        return $jq.when.apply($, reqArr);\n      };\n      $jq.getMultiScripts(reqs, includePath).done(() => {\n        console.log('jQuery %s and all libraries loaded.', $jq().jquery);\n        // dispatch event that searchbar is ready to load\n        SS.keywordx = window.keywordx;\n        SS.Masonry = window.Masonry;\n        notify('StockThumbsReady');\n      }).fail((jqXHR, textStatus, errorThrown) => {\n        console.error(errorThrown);\n      });\n    });\n  };\n\n  const domReadyHandler = (a) => {\n    const b = document;\n    const c = 'addEventListener';\n    if (b[c]) b[c]('DOMContentLoaded', a);\n    else window.attachEvent('onload', a);\n  };\n\n  domReadyHandler(() => {\n    // compares jQuery versions\n    // taken from https://stackoverflow.com/a/16187766\n    const cmpVersions = (a, b) => {\n      let i;\n      let diff;\n      const regExStrip0 = /(\\.0+)+$/;\n      const segmentsA = a.replace(regExStrip0, '').split('.');\n      const segmentsB = b.replace(regExStrip0, '').split('.');\n      const l = Math.min(segmentsA.length, segmentsB.length);\n      for (i = 0; i < l; i += 1) {\n        diff = parseInt(segmentsA[i], 10) - parseInt(segmentsB[i], 10);\n        if (diff) {\n          return diff;\n        }\n      }\n      return segmentsA.length - segmentsB.length;\n    };\n\n    // check for jQuery and load conditionally if version 1.9 or higher\n    if ((typeof window.jQuery === 'undefined' && !window.jQuery) || (cmpVersions('1.9', window.jQuery().jquery) >= 0)) {\n      const jQ = document.createElement('script');\n      jQ.type = 'text/javascript';\n      jQ.onload = jQ.onreadystatechange;\n      jQ.onload = jqLoaded;\n      jQ.src = `${window.StockThumbs.PATH}/jquery.min.js`;\n      document.body.appendChild(jQ);\n      notify('jQueryLoaded');\n    } else {\n      notify('jQueryLoaded');\n    }\n  });\n})();\n"]}